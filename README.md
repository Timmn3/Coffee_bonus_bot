# Телеграм-бот для управления бонусными картами

Этот проект представляет собой Телеграм-бот, созданный с использованием фреймворка `aiogram`. Бот позволяет пользователям управлять своими бонусными картами, регистрировать новые карты и проверять бонусы. Он взаимодействует с базой данных для хранения и извлечения данных пользователей.

Покупатели сканируют QR код на кофемашине, и переходят по ссылке в Бот, который создается для каждого конкретного ИП (можно выбирать название бота, картинку бота, описание и т.д.). В боте пользователь может зарегистрировать любое количество карт (в формате как на сайте вендиста, например 22****3317). После покупки напитка, ему в ту же минуту присылается остаток его бонусов, также он в любое время может посмотреть сколько у него бонусов на счету по каждой карте.
## Возможности

- **/start**: Приветствует пользователя и направляет его на регистрацию.
- **/cards**: Позволяет пользователям управлять своими картами, включая добавление и удаление карт.
- **/my_bonuses**: Отображает текущий бонусный баланс пользователя.
- **Автоматические обновления бонусов**: Бот периодически проверяет обновления бонусов и уведомляет пользователей.

## Установка

### Предварительные требования

- Python 3.8+
- Virtualenv (опционально, но рекомендуется)

### Настройка

1. **Склонируйте репозиторий**:
    ```sh
    git clone https://github.com/your-username/your-repo-name.git
    cd your-repo-name
    ```

2. **Создайте и активируйте виртуальное окружение**:
    ```sh
    python3 -m venv venv
    source venv/bin/activate
    ```

3. **Установите необходимые зависимости**:
    ```sh
    pip install -r requirements.txt
    ```

4. **Настройте переменные окружения**:
   Создайте файл `.env` в корневой директории с таким содержанием:
    ```env
    BOT_TOKEN=ваш-токен-бота
    DATABASE_URL=ваш-url-базы-данных
    ```

5. **Запустите бота**:
    ```sh
    python app.py
    ```

## Использование

### Команды

- **/start**: Начало взаимодействия с ботом. Если пользователь новый, его попросят пройти регистрацию.
- **/cards**: Просмотр и управление бонусными картами.
  - **Добавить карту**: Добавление новой карты, указав её номер.
  - **Удалить карту**: Удаление существующей карты, указав её номер.
- **/my_bonuses**: Проверка текущего бонусного баланса.

### Управление картами

Когда вы используете команду **/cards**, вы можете добавить или удалить карту. Следуйте инструкциям, чтобы правильно ввести номер карты. Бот проверит ввод и обновит базу данных соответствующим образом.

### Уведомления о бонусах

Бот периодически проверяет обновления вашего бонусного баланса. Если будет обнаружено изменение, вы получите уведомление с обновленным балансом.

## Вклад в проект

1. **Сделайте форк репозитория**
2. **Создайте новую ветку** (`git checkout -b feature-branch`)
3. **Закоммитьте ваши изменения** (`git commit -m 'Добавлена новая функция'`)
4. **Запушьте ветку** (`git push origin feature-branch`)
5. **Создайте новый Pull Request**

## Лицензия

Этот проект лицензирован по лицензии MIT. Подробнее см. в файле [LICENSE](LICENSE).
